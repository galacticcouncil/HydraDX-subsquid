version: '3.0'
description: Test manifest
repository: https://github.com/
hydraVersion: "4"

dataSource:
  kind: substrate
  chain: node-template

entities:
  - generated/modules/**/*.model.ts

typegen:
  metadata:
#    source: wss://archive.snakenet.hydradx.io
    source: ws://hydradx-test.ngrok.io
  events:
#    - staking.Bonded
#    - staking.Reward
#    - staking.Slash
    - system.NewAccount
    - exchange.IntentionRegistered
    - exchange.IntentionResolvedAMMTrade
    - exchange.IntentionResolvedDirectTrade
    - exchange.IntentionResolvedDirectTradeFees
    - exchange.IntentionResolveErrorEvent
    - xyk.PoolCreated
  customTypes:
    lib: ../chain
    typedefsLoc: types.json
  outDir: types

mappings:
  mappingsModule: mappings
  imports:
    - generated/server/config # configure the processor environment (for now this is required)
  eventHandlers:
#    - event: staking.Bonded
#      handler: handleBond
#    - event: staking.Reward
#      handler: handleReward
#    - event: staking.Slash
#      handler: handleSlash

    - event: xyk.PoolCreated
      handler: handleNewPool

    - event: exchange.IntentionRegistered
      handler: handleIntentionRegistered

    - event: exchange.IntentionResolvedAMMTrade
      handler: handleIntentionResolvedAMMTrade

    - event: exchange.IntentionResolvedDirectTrade
      handler: handleIntentionResolvedDirectTrade

    - event: exchange.IntentionResolvedDirectTradeFees
      handler: handleIntentionResolvedDirectTradeFees

    - event: exchange.IntentionResolveErrorEvent
      handler: handleIntentionResolveErrorEvent

  extrinsicHandlers:
  preBlockHooks:
  postBlockHooks:
